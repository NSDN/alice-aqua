{"objectsData":{"object/Sprite/dc655ae6":{"args":{"sensorSize":[1,1,1],"textContent":"export const AUTO_TILE_MAP = [\n  {\n    dst: [0, 0],\n    mask: [0, 1, 2],\n    h4x6: [[0, 2], [1, 2], [0, 2], [2, 2], [0, 3], [2, 0], [0, 3], [1, 4]],\n    h5x3: [[0, 0], [1, 0], [0, 0], [1, 0], [0, 1], [3, 0], [0, 1], [1, 1]],\n  },\n  {\n    dst: [1, 0],\n    mask: [2, 3, 4],\n    h4x6: [[3, 2], [3, 3], [3, 2], [3, 4], [2, 2], [3, 0], [1, 2], [2, 4]],\n    h5x3: [[2, 0], [2, 1], [2, 0], [2, 1], [1, 0], [4, 0], [1, 0], [1, 1]],\n  },\n  {\n    dst: [1, 1],\n    mask: [4, 5, 6],\n    h4x6: [[3, 5], [2, 5], [3, 5], [1, 5], [3, 3], [3, 1], [3, 4], [2, 3]],\n    h5x3: [[2, 2], [1, 2], [2, 2], [1, 2], [2, 1], [4, 1], [2, 1], [1, 1]],\n  },\n  {\n    dst: [0, 1],\n    mask: [6, 7, 0],\n    h4x6: [[0, 5], [0, 4], [0, 5], [0, 3], [1, 5], [2, 1], [2, 5], [1, 3]],\n    h5x3: [[0, 2], [0, 1], [0, 2], [0, 1], [1, 2], [3, 1], [1, 2], [1, 1]],\n  },\n]\n\nexport const AUTO_TILE_NEIGHBORS = [\n  [-1,  0],\n  [-1,  1],\n  [ 0,  1],\n  [ 1,  1],\n  [ 1,  0],\n  [ 1, -1],\n  [ 0, -1],\n  [-1, -1],\n]\n\nfunction getMaskBits(neighbors: number, mask: number[]) {\n  return mask.reduce((s, i, j) => s + (neighbors & (1 << i) ? (1 << j) : 0), 0)\n}\n\ntype TileCache = {\n  [offset: string]: {\n    canvas: HTMLCanvasElement,\n    hasUsed: { [key: string]: boolean }\n  }\n}\n\n// the size of autotile should be 2*3 tileSize\nexport function getAutoTileImage(source: HTMLImageElement,\n    offsetX: number, offsetY: number,\n    tileSize: number, neighbors: number, tileType: 'h4x6' | 'h5x3') {\n  const srcCache = source as any as { autoTileCache: TileCache },\n    cache = srcCache.autoTileCache = (srcCache.autoTileCache || { }),\n    key = [offsetX, offsetY, tileSize].join('/')\n  if (!cache[key]) {\n    const canvas = document.createElement('canvas')\n    canvas.width = tileSize\n    canvas.height = 256 * tileSize\n    const hasUsed = { }\n    cache[key] = { canvas, hasUsed }\n  }\n\n  const { canvas, hasUsed } = cache[key],\n    hw = tileSize / 2\n  if (!hasUsed[neighbors]) {\n    const dc = canvas.getContext('2d')\n    AUTO_TILE_MAP.forEach(map => {\n      const b = getMaskBits(neighbors, map.mask),\n        [i, j] = map[tileType][b],\n        sx = offsetX + i * hw,\n        sy = offsetY + j * hw,\n        [m, n] = map.dst,\n        dx = m * hw,\n        dy = n * hw + neighbors * tileSize\n      dc.drawImage(source, sx, sy, hw, hw, dx, dy, hw, hw)\n    })\n    hasUsed[neighbors] = true\n  }\n\n  return { im: canvas, sx: 0, sy: neighbors * tileSize }\n}\n","dialogContent":{"start":{"text":"\"name\": \"alice-aqua\",\n\"version\": \"0.0.1\",\n\"description\": \"\",\n\"main\": \"index.js\",\n\"scripts\": {\n  \"dev\": \"webpack-dev-server\",\n  \"pub\": \"bash ./tools/publish.sh\"\n},\n\"keywords\": [],\n\"author\": \"\",\n\"license\": \"ISC\",\n\"devDependencies\": {\n  \"babel-core\": \"^6.18.2\",\n  \"babel-loader\": \"^6.2.8\",\n  \"babel-polyfill\": \"^6.16.0\",\n  \"babel-preset-es2015\": \"^6.18.0\",\n  \"babel-preset-stage-0\": \"^6.16.0\",\n  \"core-js\": \"^2.4.1\",\n  \"mkdirp\": \"^0.5.1\",\n  \"regenerator-runtime\": \"^0.10.0\",\n  \"ts-loader\": \"^1.3.1\",\n  \"tslint\": \"^4.2.0\",\n  \"tslint-loader\": \"^3.3.0\",\n  \"typescript\": \"^2.1.4\",\n  \"webpack\": \"^2.2.1\",\n  \"webpack-dev-server\": \"^2.3.0\"\n},\n\"dependencies\": {\n  \"@types/js-yaml\": \"^3.5.29\",\n  \"font-awesome\": \"^4.6.3\",\n  \"js-yaml\": \"^3.8.1\"\n}\n嘿！\n呼！\n喝！\n请点继续\n","options":{"继续":"next"}},"next":{"text":"宝宝真棒！","options":{"返回":"start","结束":""}}}},"clsId":11,"x":2.5,"y":1,"z":8.5},"object/PlayerGenerator/a7400101":{"args":{},"clsId":31,"x":0.5,"y":3,"z":-1.5},"object/Sprite/71569951":{"args":{},"clsId":6,"x":-4.5,"y":2,"z":6.5},"object/Jump/8b6588ce":{"args":{"upForce":50},"clsId":34,"x":-8.5,"y":1,"z":-3.5},"object/Sprite/a6c8d379":{"args":{},"clsId":21,"x":1.5,"y":1,"z":5.5},"object/Gate/c5e931a1":{"args":{},"clsId":28,"x":-22.5,"y":3,"z":8.5},"object/BoxGenerator/0503af3e":{"args":{},"clsId":4,"x":-17.5,"y":2,"z":-8.5},"object/Trigger/45138309":{"args":{"targetName":"object/Gate/c5e931a1"},"clsId":30,"x":-19.5,"y":2,"z":-10.5}},"chunksData":{"unit":1,"size":16,"sideTileId":61,"chunks":{"-1/-1":{"tiles":[0,0,0,0,34,34,34,34,34,34,34,34,34,34,0,0,0,0,0,0,34,34,34,34,34,34,34,34,34,34,0,0,0,0,0,0,0,0,34,34,34,34,34,34,34,34,0,0,0,0,0,0,0,0,34,34,34,34,34,34,34,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,34,34,34,34,34,0,0,0,0,0,0,0,0,0,0,0,34,34,34,34,34,0,0,0,0,0,0,0,0,0,0,0,34,34,34,34,34,0,0,0,0,0,0,0,0,0,0,0,34,34,34,34,34,0,0,0,0,0,0,0,0,0,34,34,34,34,34,34,34,0,0,0,0,0,0,0,0,0,34,34,34,34,34,34,34,0,0,0,0,0,0,0,0,0,34,34,34,34,34,34,34,0,0,0,0,0,0,0,0,0,34,34,34,34,35,35,35,0,0,0,0,0,0,0,0,0,34,34,34,34,35,35,35],"heights":[0,0,0,0,2,2,2,2,2,2,1,1,1,1,0,0,0,0,0,0,2,2,2,2,2,2,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,2,2,2,2,2,1,1,0,0,0,0,0,0,0,0,0,2,2,2,2,2,1,1,0,0,0,0,0,0,0,0,0,2,2,2,2,2,1,1,0,0,0,0,0,0,0,0,0,2,2,2,2,3,3,3,0,0,0,0,0,0,0,0,0,2,2,2,2,3,3,3]},"-1/0":{"tiles":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,34,34,34,34,34,34,34,0,0,0,0,0,0,0,0,0,34,34,34,34,34,34,34,0,0,0,0,0,0,0,0,0,34,34,34,34,34,34,34,0,0,0,0,0,0,0,0,0,34,35,35,35,35,35,35,35,35,0,0,0,0,0,0,0,34,35,35,35,35,35,35,35,35,0,0,0,0,0,0,0,34,35,35,35,35,35,35,35,35,35,35,35,0,0,0,0,34,35,35,35,35,35,35,35,35,35,35,35,0,0,0,0,35,35,35,35,35,35,35,35,35,35,35,35,0,0,0,0,35,35,35,35,35,35,35,35,35,35,35,35,0,0,0,0],"heights":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,1,1,1,0,0,0,0,1,2,2,2,2,2,2,2,2,1,1,1,0,0,0,0,3,3,3,3,2,2,2,2,2,1,1,1,0,0,0,0,3,3,3,3,2,2,2,2,2,1,1,1,0,0,0,0]},"0/-1":{"tiles":[0,0,0,0,0,0,0,0,0,34,34,34,34,35,35,35,0,0,0,0,0,0,0,0,0,0,0,0,0,35,35,35,0,0,0,0,0,0,0,0,0,0,0,0,0,35,35,35,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,35,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,35,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,35,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,35,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"heights":[0,0,0,0,0,0,0,0,0,2,2,2,2,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},"0/0":{"tiles":[35,35,35,35,35,35,35,35,35,35,35,35,0,0,0,0,35,35,35,35,35,35,35,35,35,35,35,35,0,0,0,0,35,35,35,35,35,35,56,56,56,56,35,35,0,0,0,0,35,35,35,35,35,35,56,56,56,56,35,35,0,0,0,0,35,35,35,35,35,35,56,56,56,56,35,35,0,0,0,0,35,35,35,35,35,35,35,35,35,35,35,35,0,0,0,0,35,35,35,35,35,35,35,35,35,35,35,35,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"heights":[3,3,3,3,1,1,1,1,1,1,1,1,0,0,0,0,3,3,3,3,1,1,1,1,1,1,1,1,0,0,0,0,3,3,3,3,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},"-2/-1":{"tiles":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,35,35,35,35,0,0,0,0,0,0,0,0,0,0,0,0,35,35,35,35,0,0,0,0,0,0,0,0,0,0,34,34,35,35,35,35,0,0,0,0,0,0,0,0,0,0,34,34,35,35,35,35,0,0,0,0,0,0,0,0,0,0,34,34,35,35,35,35,0,0,0,0,0,0,34,34,34,34,34,34,34,34,0,0,0,0,0,0,0,0,34,34,34,34,34,34,34,34,0,0,0,0,0,0,0,0,34,34,34,34,34,34,34,34,0,0,0,0,0,0,34,34,34,34,34,34,34,34,34,34,0,0,0,0,0,0,34,34,34,34,34,34,34,34,34,34,0,0,0,0,0,0,34,34,34,34,34,34,0,0,0,0,0,0,0,0,0,0,34,34,34,34,34,34,0,0,0,0,0,0,0,0,0,0,34,34,34,34,34,34,0,0,0,0,0,0],"heights":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,0,0,0,0,0,0,0,0,0,0,1,1,2,2,2,2,0,0,0,0,0,0,0,0,0,0,1,1,2,2,2,2,0,0,0,0,0,0,0,0,0,0,1,1,2,2,2,2,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,2,2,2,2,2,2,1,1,1,1,0,0,0,0,0,0,2,2,2,2,2,2,1,1,1,1,0,0,0,0,0,0,2,2,2,2,2,2,0,0,0,0,0,0,0,0,0,0,2,2,2,2,2,2,0,0,0,0,0,0,0,0,0,0,2,2,2,2,2,2,0,0,0,0,0,0]},"-2/0":{"tiles":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,35,35,35,35,35,0,0,0,0,0,0,0,0,0,0,0,35,35,35,35,35,0,0,0,0,0,0,0,0,0,0,0,35,35,35,35,35,0,0,0,0,0,0,0,0,0,0,0,35,35,35,35,35,35,0,0,0,0,0,0,0,0,0,0,35,35,35,35,35,35,0,0,0,0,0,0,0,0,0,0,0,0,35,35,35,35,35,35,35,35,35,35,0,0,0,0,0,0,35,35,35,35,35,35,35,35,35,35,0,0,0,0,0,0,35,35,35,35,35,35,35,35,35,35,0,0,0,0,0,0,35,35,35,35,0,0,0,0,0,0,0,0,0,0,0,0,35,35,35,35,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"heights":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,2,2,3,3,3,3,0,0,0,0,0,0,0,0,0,0,2,2,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}}}}